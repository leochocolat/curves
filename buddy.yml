- pipeline: "Development"
  trigger_mode: "MANUAL"
  ref_name: "develop"
  ref_type: "BRANCH"
  target_site_url: "${site.url}"
  actions:
  - action: "Build frontend"
    type: "BUILD"
    docker_image_name: "library/node"
    docker_image_tag: "6"
    execute_commands:
    - "npm install"
    - "npm run release"
    setup_commands:
    - "npm set registry http://npm.shcc.nl"
    - "npm install -g gulp grunt-cli"
    shell: "BASH"
    trigger_condition: "ON_CHANGE_AT_PATH"
    trigger_condition_paths:
    - "/_sources/*"
  - action: "Upload files"
    type: "SFTP"
    input_type: "BUILD_ARTIFACTS"
    local_path: "/"
    remote_path: "${upload.path}"
    login: "${upload.username}"
    host: "${upload.host}"
    port: "22"
    env_key: "id_rsa"
    authentication_mode: "ENV_KEY"
    deployment_excludes:
    - "/_sources/"
    - "/_tools/"
    - "/node_modules/"
    - "/.babelrc"
    - "/package*"
    - "/readme.md"
    - ".gitignore"


